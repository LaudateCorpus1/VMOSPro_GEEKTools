#!/system/bin/sh
VAR1=$1; abort(){ echo "$1"; exit 1; }; check_daemon(){ [ "$(getprop init.svc.TOOL001)" == "running" ] && [ "$(getprop init.svc.TOOL002)" == "running" ] && [ "$(getprop init.svc.TOOL003)" == "running" ] && [ "$(getprop init.svc.TOOL004)" == "running" ] && echo "running" || abort "no_daemon"; }; if [ "$VAR1" == "workpath" ]; then cat "/tool_files/binary/.workpath" 2>/dev/null || abort "Cannot read geektools working path"; elif [ "$VAR1" == "expath" ]; then echo "/tool_files/main/exbin" 2>/dev/null; elif [ "$VAR1" == "check" ]; then check_daemon; else if [ "$(check_daemon)" == "running" ]; then sh /tool_files/main/main.sh; else abort "No daemon is currently running!"; fi; fi;